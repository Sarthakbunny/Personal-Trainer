# 🏋️‍♂️ FitAI Backend – Project Summary

## ✅ Overview

A backend service built using **Go**, integrated with:

* **Firebase Firestore** (user data & check-ins)
* **Gemini API** (AI-generated diet/workout plans)
* Designed for a **personalized fitness assistant** experience

---

## 🧱 Tech Stack

| Component     | Tool / Platform             |
| ------------- | --------------------------- |
| Language      | Go (Golang)                 |
| Framework     | Fiber (Web framework)       |
| Auth + DB     | Firebase (Firestore + Auth) |
| AI            | Gemini API                  |
| Docs (future) | Swagger (disabled for now)  |

---

## 📁 Folder Structure

```
fitai-backend/
├── cmd/api/                  → Entry point (main.go)
├── handlers/                 → HTTP route handlers
├── models/                   → Shared struct definitions
├── services/                 → Firestore and Gemini setup
├── firebase-service-account.json  → Firebase credentials
```

---

## 🚦 API Endpoints Implemented

| Method | Endpoint           | Description                               |
| ------ | ------------------ | ----------------------------------------- |
| POST   | `/api/onboarding`  | Save user onboarding data                 |
| POST   | `/api/suggestions` | Get AI-generated fitness/diet suggestions |
| POST   | `/api/checkin`     | Mark daily check-in                       |
| GET    | `/api/streak`      | Get current daily streak                  |

---

## 📂 Handlers Summary

### `handlers/onboarding.go`

* Accepts onboarding data (goal, diet, level, allergy, timezone)
* Saves it to Firestore under `/users/{uid}`

### `handlers/suggestions.go`

* Accepts request containing user’s goals/diet/etc.
* Sends prompt to Gemini API and returns the AI's suggestion

### `handlers/checkin.go`

* Saves check-in under `/users/{uid}/checkins/{date}`
* Computes simple streak based on dates checked in

---

## 🧩 Models Used

Defined in `models/` package for reuse across handlers:

### `models/onboarding.go`

```go
type OnboardingData struct {
    Goal     string `json:"goal"`
    Diet     string `json:"diet"`
    Level    string `json:"level"`
    Allergy  string `json:"allergy"`
    Timezone string `json:"timezone"`
}
```

### `models/suggestion.go`

```go
type SuggestionRequest struct {
    Goal    string `json:"goal"`
    Diet    string `json:"diet"`
    Level   string `json:"level"`
    Allergy string `json:"allergy"`
}
```

### `models/checkin.go`

```go
type CheckInData struct {
    Date string `json:"date"` // format: YYYY-MM-DD
}
```

---

## 🔌 Services Setup

### `services/firebase.go`

* Initializes Firestore using `firebase-service-account.json`
* Stores client globally in `services.FirestoreClient`

### `services/gemini.go`

* Sets up Gemini API client with `GEMINI_API_KEY`
* Generates suggestion based on AI prompt

---

## 🚫 Swagger (Temporarily Disabled)

* Swagger support (`swag init`) is disabled on corporate machine due to permissions
* Will re-integrate once model is complete

---

## ✅ Current State

* 🔐 Firebase auth + data save working
* 🧠 Gemini API generates suggestions
* 📆 Daily streak feature added
* 🧰 All structs modularized in `models/`
* 🛠️ Clean handler organization in `handlers/`