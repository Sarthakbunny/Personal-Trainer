# ğŸ‹ï¸â€â™‚ï¸ FitAI Backend â€“ Project Summary

## âœ… Overview

A backend service built using **Go**, integrated with:

* **Firebase Firestore** (user data & check-ins)
* **Gemini API** (AI-generated diet/workout plans)
* Designed for a **personalized fitness assistant** experience

---

## ğŸ§± Tech Stack

| Component     | Tool / Platform             |
| ------------- | --------------------------- |
| Language      | Go (Golang)                 |
| Framework     | Fiber (Web framework)       |
| Auth + DB     | Firebase (Firestore + Auth) |
| AI            | Gemini API                  |
| Docs (future) | Swagger (disabled for now)  |

---

## ğŸ“ Folder Structure

```
fitai-backend/
â”œâ”€â”€ cmd/api/                  â†’ Entry point (main.go)
â”œâ”€â”€ handlers/                 â†’ HTTP route handlers
â”œâ”€â”€ models/                   â†’ Shared struct definitions
â”œâ”€â”€ services/                 â†’ Firestore and Gemini setup
â”œâ”€â”€ firebase-service-account.json  â†’ Firebase credentials
```

---

## ğŸš¦ API Endpoints Implemented

| Method | Endpoint           | Description                               |
| ------ | ------------------ | ----------------------------------------- |
| POST   | `/api/onboarding`  | Save user onboarding data                 |
| POST   | `/api/suggestions` | Get AI-generated fitness/diet suggestions |
| POST   | `/api/checkin`     | Mark daily check-in                       |
| GET    | `/api/streak`      | Get current daily streak                  |

---

## ğŸ“‚ Handlers Summary

### `handlers/onboarding.go`

* Accepts onboarding data (goal, diet, level, allergy, timezone)
* Saves it to Firestore under `/users/{uid}`

### `handlers/suggestions.go`

* Accepts request containing userâ€™s goals/diet/etc.
* Sends prompt to Gemini API and returns the AI's suggestion

### `handlers/checkin.go`

* Saves check-in under `/users/{uid}/checkins/{date}`
* Computes simple streak based on dates checked in

---

## ğŸ§© Models Used

Defined in `models/` package for reuse across handlers:

### `models/onboarding.go`

```go
type OnboardingData struct {
    Goal     string `json:"goal"`
    Diet     string `json:"diet"`
    Level    string `json:"level"`
    Allergy  string `json:"allergy"`
    Timezone string `json:"timezone"`
}
```

### `models/suggestion.go`

```go
type SuggestionRequest struct {
    Goal    string `json:"goal"`
    Diet    string `json:"diet"`
    Level   string `json:"level"`
    Allergy string `json:"allergy"`
}
```

### `models/checkin.go`

```go
type CheckInData struct {
    Date string `json:"date"` // format: YYYY-MM-DD
}
```

---

## ğŸ”Œ Services Setup

### `services/firebase.go`

* Initializes Firestore using `firebase-service-account.json`
* Stores client globally in `services.FirestoreClient`

### `services/gemini.go`

* Sets up Gemini API client with `GEMINI_API_KEY`
* Generates suggestion based on AI prompt

---

## ğŸš« Swagger (Temporarily Disabled)

* Swagger support (`swag init`) is disabled on corporate machine due to permissions
* Will re-integrate once model is complete

---

## âœ… Current State

* ğŸ” Firebase auth + data save working
* ğŸ§  Gemini API generates suggestions
* ğŸ“† Daily streak feature added
* ğŸ§° All structs modularized in `models/`
* ğŸ› ï¸ Clean handler organization in `handlers/`